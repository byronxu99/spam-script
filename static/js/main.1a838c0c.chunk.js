(this["webpackJsonpspam-script"]=this["webpackJsonpspam-script"]||[]).push([[0],{129:function(e,a){},170:function(e,a,t){"use strict";t.r(a);var l=t(0),n=t.n(l),r=t(17),c=t.n(r),s=(t(68),t(3)),m=t(4),i=t(58);function o(){return n.a.createElement("footer",{className:"footer"},n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"level has-text-centered"},n.a.createElement("div",{className:"level-item"},n.a.createElement("a",{href:"https://esp.mit.edu",target:"_blank",rel:"noopener noreferrer",className:"has-text-grey-dark"},"MIT ESP Email Spam Script")),n.a.createElement("div",{className:"level-item"},n.a.createElement("a",{href:"https://github.com/byronxu99/spam-script",target:"_blank",rel:"noopener noreferrer",className:"has-text-grey-dark"},n.a.createElement("span",{className:"icon"},n.a.createElement(m.a,{icon:i.a,fixedWidth:!0,transform:"down-1"}))," ","Open Source")),n.a.createElement("div",{className:"level-item"},n.a.createElement("a",{href:"https://scripts.mit.edu",target:"_blank",rel:"noopener noreferrer",className:"has-text-grey-dark"},"Powered by scripts.mit.edu")))))}function u(e){var a=window.location.hostname.includes("mit.edu");return n.a.createElement(n.a.Fragment,null,n.a.createElement("section",{className:"hero is-fullheight"},n.a.createElement("div",{className:"hero-body"},n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"title is-1 has-text-centered"},"Welcome to the new spam script!"),n.a.createElement("div",{className:"columns is-desktop py-5"},n.a.createElement("div",{className:"column has-text-centered px-2"},n.a.createElement("div",{className:"huge-icon"},n.a.createElement("span",{role:"img","aria-label":"icon"},"\ud83d\udccb")),n.a.createElement("p",{className:"title is-3 py-1"},"Enter your data"),n.a.createElement("p",{className:"subtitle is-5 py-2 px-5"},"Copy and paste tab-separated or comma-separated values from a spreadsheet.")),n.a.createElement("div",{className:"column has-text-centered px-2"},n.a.createElement("div",{className:"huge-icon"},n.a.createElement("span",{role:"img","aria-label":"icon"},"\u270f\ufe0f")),n.a.createElement("p",{className:"title is-3 py-1"},"Write your message"),n.a.createElement("p",{className:"subtitle is-5 py-2 px-5"},"Draft a Markdown, HTML, or plain-text email template. Now with live preview!")),n.a.createElement("div",{className:"column has-text-centered px-2"},n.a.createElement("div",{className:"huge-icon"},n.a.createElement("span",{role:"img","aria-label":"icon"},"\u2709\ufe0f")),n.a.createElement("p",{className:"title is-3 py-1"},"Send your spam"),n.a.createElement("p",{className:"subtitle is-5 py-2 px-5"},"Not yet implemented :("))),n.a.createElement("div",{className:"has-text-centered py-4"},n.a.createElement("button",{onClick:e.nextPage,className:"button is-success is-large px-6"},"Get started")),a&&n.a.createElement("div",{className:"has-text-centered py-1"},n.a.createElement("a",{href:"https://esp.scripts.mit.edu:444/esp-publicity/email/email-dictator/web/edit.cgi"},"Looking for the old spam script? Click here."))))),n.a.createElement(o,null))}var d,E=t(2),p=t(9),h=t(60),v=t.n(h),f=Object(p.b)({name:"data",initialState:{},reducers:{setRawData:function(e,a){e.raw=a.payload},setParsedData:function(e,a){e.headers=a.payload.headers,e.rows=a.payload.rows}}}),N=f.actions,g=N.setRawData,b=N.setParsedData,y=f.reducer;function x(e){return function(a){a(g(e));var t,l=v.a.parse(e,{skipEmptyLines:"greedy"}),n={headers:(t={headers:l.data[0]||[],rows:l.data.slice(1)}).headers.map((function(e){return e.trim()})),rows:t.rows.map((function(e){return e.map((function(e){return e.trim()}))}))};a(b(n))}}function w(e){return e.data.raw||""}function P(e){return{headers:e.data.headers||[],rows:e.data.rows||[]}}!function(e){e[e.MARKDOWN=0]="MARKDOWN",e[e.HTML=1]="HTML",e[e.PLAINTEXT=2]="PLAINTEXT",e[e.PROCESSED=3]="PROCESSED"}(d||(d={}));var A=t(62),k=t(61),T=t.n(k),S=t(37),M=t.n(S),j=t(38),O=t.n(j),C={smartLists:!0,smartypants:!0,xhtml:!0},D={hideLinkHrefIfSameAsText:!0,returnDomByDefault:!1,tables:!0},R=["ARGV"];function I(e,a){var t=e.headers,l=e.rows[a]||[],n={};return t.forEach((function(e,a){e&&(n[e]=l[a]||"")})),n.ARGV=l,n}function G(e){var a={from:H(e.from),sender:H(e.sender),to:H(e.to),cc:H(e.cc),bcc:H(e.bcc),replyTo:H(e.replyTo),inReplyTo:H(e.inReplyTo),references:H(e.references),subject:H(e.subject),messageId:H(e.messageId),date:H(e.date)},t=H(e.raw);return function(l){var n,r={bodyFormat:e.bodyFormat,attachments:e.attachments,errors:e.errors||[]};for(var c in a){var s,m=c,i=a[m];if("function"===typeof i)try{var o=i(l);o&&(r[m]=o)}catch(p){var u;null===(u=r.errors)||void 0===u||u.push(_(p,'Error in field "'.concat(c,'"')))}else null===(s=r.errors)||void 0===s||s.push(_(i,'Error in field "'.concat(c,'"')))}if("function"===typeof t)try{r.raw=t(l)}catch(p){var E;null===(E=r.errors)||void 0===E||E.push(_(p,"Error in message body"))}else null===(n=r.errors)||void 0===n||n.push(_(t,"Error in message body"));return e.headers&&(r.headers=e.headers),function(e){var a=Object(A.a)({},e);if(e.raw&&e.bodyFormat===d.MARKDOWN){var t=T()(e.raw,C);a.html=M.a.sanitize(t),a.text=O.a.fromString(a.html,D)}e.raw&&e.bodyFormat===d.HTML&&(a.html=M.a.sanitize(e.raw),a.text=O.a.fromString(a.html,D));e.raw&&e.bodyFormat===d.PLAINTEXT&&(a.text=e.raw);e.raw||(a.text="");return a.bodyFormat=d.PROCESSED,a}(r)}}function H(e){if(!e)return function(){return""};try{return Function("SPAM","return `".concat(e,"`"))}catch(a){return a}}function _(e,a){var t=Error(e.toString());return t.name=a,t}var L={bodyFormat:d.MARKDOWN,attachments:[]},F=Object(p.b)({name:"template",initialState:L,reducers:{setMessageFormat:function(e,a){e.bodyFormat=a.payload},setRawBody:function(e,a){e.raw=a.payload},setHeader:function(e,a){e[a.payload.header]=a.payload.value}}}),W=F.actions,B=W.setMessageFormat,$=W.setRawBody,V=W.setHeader,X=F.reducer;function K(e){return e.template}function z(e){return e.template.bodyFormat}function J(e){return e.template.raw}function Y(e){return function(a){return a.template[e]}}function q(){var e=Object(l.useState)(!1),a=Object(s.a)(e,2),t=a[0],r=a[1],c=Object(E.b)(),m=Object(E.c)(Y("from")),i=Object(E.c)(Y("to")),o=Object(E.c)(Y("cc")),u=Object(E.c)(Y("bcc")),p=Object(E.c)(Y("replyTo")),h=Object(E.c)(Y("sender")),v=Object(E.c)(Y("inReplyTo")),f=Object(E.c)(Y("subject")),N=Object(E.c)(z),g=Object(E.c)(J);return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"field"},n.a.createElement("div",{className:"control"},n.a.createElement("label",{className:"label"},"From"),n.a.createElement("input",{className:"input",type:"text",value:m||"",placeholder:"Your Name <example@mit.edu>",onChange:function(e){return c(V({header:"from",value:e.target.value}))}}),n.a.createElement("p",{className:"help"},"Must be an @mit.edu address"))),n.a.createElement("div",{className:"field"},n.a.createElement("div",{className:"control"},n.a.createElement("label",{className:"label"},"To"),n.a.createElement("input",{className:"input",type:"text",value:i||"",placeholder:"${SPAM.email}",onChange:function(e){return c(V({header:"to",value:e.target.value}))}}),n.a.createElement("p",{className:"help"},"Main recipients of your message"))),n.a.createElement("div",{className:"field"},n.a.createElement("div",{className:"control"},n.a.createElement("label",{className:"label"},"Cc"),n.a.createElement("input",{className:"input",type:"text",value:o||"",placeholder:"test1@example.com, test2@example.com",onChange:function(e){return c(V({header:"cc",value:e.target.value}))}}),n.a.createElement("p",{className:"help"},"Additional recipients of your message"))),!t&&n.a.createElement("div",{className:"has-text-centered"},n.a.createElement("a",{onClick:function(e){r(!0),e.preventDefault()}},"Show additional fields...")),t&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"has-text-centered"},n.a.createElement("a",{onClick:function(e){r(!1),e.preventDefault()}},"Hide additional fields...")),n.a.createElement("div",{className:"field"},n.a.createElement("div",{className:"control"},n.a.createElement("label",{className:"label"},"Bcc"),n.a.createElement("input",{className:"input",type:"text",value:u||"",placeholder:"test3@example.com",onChange:function(e){return c(V({header:"bcc",value:e.target.value}))}}),n.a.createElement("p",{className:"help"},"Additional hidden recipients of your message"))),n.a.createElement("div",{className:"field"},n.a.createElement("div",{className:"control"},n.a.createElement("label",{className:"label"},"Reply-To"),n.a.createElement("input",{className:"input",type:"text",value:p||"",onChange:function(e){return c(V({header:"replyTo",value:e.target.value}))}}),n.a.createElement("p",{className:"help"},"Optional email address that you want people to send replies to"))),n.a.createElement("div",{className:"field"},n.a.createElement("div",{className:"control"},n.a.createElement("label",{className:"label"},"Sender"),n.a.createElement("input",{className:"input",type:"text",value:h||"",onChange:function(e){return c(V({header:"sender",value:e.target.value}))}}),n.a.createElement("p",{className:"help"},"If From is not an @mit.edu address, set this to an @mit.edu address to send on behalf of an external address"))),n.a.createElement("div",{className:"field"},n.a.createElement("div",{className:"control"},n.a.createElement("label",{className:"label"},"In-Reply-To"),n.a.createElement("input",{className:"input",type:"text",value:v||"",onChange:function(e){return c(V({header:"inReplyTo",value:e.target.value}))}}),n.a.createElement("p",{className:"help"},"For replying to previous messages (leave blank if you don't know what this is)")))),n.a.createElement("div",{className:"field"},n.a.createElement("div",{className:"control"},n.a.createElement("label",{className:"label"},"Subject"),n.a.createElement("input",{className:"input",type:"text",value:f||"",placeholder:"Automated spam message for ${SPAM.name}",onChange:function(e){return c(V({header:"subject",value:e.target.value}))}}))),n.a.createElement("div",{className:"field"},n.a.createElement("label",{className:"label"},"Message"),n.a.createElement("div",{className:"tabs is-toggle is-small mb-3"},n.a.createElement("ul",null,n.a.createElement("li",{className:N===d.MARKDOWN?"is-active":""},n.a.createElement("a",{onClick:function(e){c(B(d.MARKDOWN)),e.preventDefault()}},"Markdown")),n.a.createElement("li",{className:N===d.HTML?"is-active":""},n.a.createElement("a",{onClick:function(e){c(B(d.HTML)),e.preventDefault()}},"HTML")),n.a.createElement("li",{className:N===d.PLAINTEXT?"is-active":""},n.a.createElement("a",{onClick:function(e){c(B(d.PLAINTEXT)),e.preventDefault()}},"Plain text")))),n.a.createElement("textarea",{className:"textarea",value:g||"",rows:20,placeholder:U,onChange:function(e){return c($(e.target.value))}})))}var U="\nDear ${SPAM.name},\n\nThis is a friendly reminder that your appointment is scheduled for **tomorrow** at ${SPAM.time}.\n\nIf you have any questions, please visit [our website](https://example.com).\n\nSincerely,<br>\nYour Name\n".trim(),Q=t(7),Z={title:"",nextPage:function(){return!1},prevPage:function(){return!1},showNext:!1,showPrev:!1};function ee(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z;return n.a.createElement("div",null,n.a.createElement("nav",{className:"container pt-5"},n.a.createElement("div",{className:"level is-mobile"},n.a.createElement("div",{className:"level-left has-text-centered"},n.a.createElement("button",{onClick:e.prevPage,className:"button is-success "+(e.showPrev?"":"is-invisible")},n.a.createElement("span",{className:"icon"},n.a.createElement(m.a,{icon:Q.b,transform:"down-1"})),"\xa0Back")),n.a.createElement("div",{className:"level-item"},n.a.createElement("div",{className:"title is-3 py-1"},e.title)),n.a.createElement("div",{className:"level-right has-text-centered"},n.a.createElement("button",{onClick:e.nextPage,className:"button is-success "+(e.showNext?"":"is-invisible")},"Next\xa0",n.a.createElement("span",{className:"icon"},n.a.createElement(m.a,{icon:Q.c,transform:"down-1"})))))),n.a.createElement("hr",null))}var ae="\nemail, name, time\naphacker@mit.edu, Alyssa P. Hacker, 9:00 AM\nbitdiddle@mit.edu, Ben Bitdiddle, 11:00 AM\npembroke@mit.edu, Edward S. Pembroke, 2:00 PM\n".trim();function te(e){var a=Object(E.c)(w),t=Object(E.b)();return n.a.createElement(n.a.Fragment,null,n.a.createElement(ee,{title:"Enter your data",nextPage:e.nextPage,prevPage:e.prevPage,showNext:!0,showPrev:!0}),n.a.createElement("div",null,n.a.createElement("div",{className:"container px-3 pb-3"},n.a.createElement("div",{className:"field"},n.a.createElement("label",{className:"label"},"Enter data as a tab- or comma-separated array. The first line should be a header row with variable names."),n.a.createElement("textarea",{className:"textarea",value:a||"",placeholder:ae,onChange:function(e){return t(x(e.target.value))},rows:20,autoFocus:!0,spellCheck:"false",wrap:"off"}),!a&&n.a.createElement("p",{className:"pt-1"},"(",n.a.createElement("a",{onClick:function(e){!function(e){e(x(ae)),e(V({header:"from",value:"Your Name <example@mit.edu>"})),e(V({header:"to",value:"${SPAM.email}"})),e(V({header:"subject",value:"Automated spam message for ${SPAM.name}"})),e(B(d.MARKDOWN)),e($(U))}(t),e.preventDefault()}},"Click here to load sample data and message"),")")),n.a.createElement(le,null))))}function le(){var e=Object(E.c)(P),a=e.headers,t=e.rows,l=a.filter((function(e){return R.includes(e)}));return n.a.createElement(n.a.Fragment,null,!!(null===a||void 0===a?void 0:a.length)&&n.a.createElement("div",{className:"py-3"},n.a.createElement("p",{className:"label"},"Preview"),n.a.createElement("div",{className:"table-container mb-2"},n.a.createElement("table",{className:"table is-bordered is-hoverable"},n.a.createElement("thead",{className:"has-background-light"},n.a.createElement("tr",null,a.map((function(e,a){return n.a.createElement("th",{key:a},e)})))),n.a.createElement("tbody",null,null===t||void 0===t?void 0:t.map((function(e,a){return n.a.createElement("tr",{key:a},e.map((function(e,a){return n.a.createElement("td",{key:a},e)})))}))))),n.a.createElement("p",null,"Number of emails: ",(null===t||void 0===t?void 0:t.length)||0),l.length>0&&n.a.createElement("div",{className:"pt-5"},l.map((function(e,a){return n.a.createElement("div",{key:a,className:"message is-danger"},n.a.createElement("div",{className:"message-body"},n.a.createElement("span",{className:"has-text-weight-bold"},e)," is a special keyword. Please choose a different variable name."))})))))}var ne,re=t(12);function ce(e){var a="has-text-weight-bold",t="has-text-grey-light",l={from:e.message.from||"(empty)",fromClass:e.message.from?"":t,to:e.message.to||"(empty)",toClass:e.message.to?"":t,subject:e.message.subject||"(empty)",subjectClass:e.message.subject?"":t};return n.a.createElement("div",null,n.a.createElement("div",{className:"add-paragraph-spacing"},n.a.createElement("p",null,n.a.createElement("span",{className:a},"From:")," ",n.a.createElement("span",{className:l.fromClass},l.from)),n.a.createElement("p",null,n.a.createElement("span",{className:a},"To:")," ",n.a.createElement("span",{className:l.toClass},l.to)),e.message.cc&&n.a.createElement("p",null,n.a.createElement("span",{className:a},"Cc:")," ",e.message.cc),e.message.bcc&&n.a.createElement("p",null,n.a.createElement("span",{className:a},"Bcc:")," ",e.message.bcc),e.message.replyTo&&n.a.createElement("p",null,n.a.createElement("span",{className:a},"Reply-To:")," ",e.message.replyTo),e.message.sender&&n.a.createElement("p",null,n.a.createElement("span",{className:a},"Sender:")," ",e.message.sender),e.message.inReplyTo&&n.a.createElement("p",null,n.a.createElement("span",{className:a},"In-Reply-To:")," ",e.message.inReplyTo),e.message.references&&n.a.createElement("p",null,n.a.createElement("span",{className:a},"References:")," ",e.message.references),n.a.createElement("p",null,n.a.createElement("span",{className:a},"Subject:")," ",n.a.createElement("span",{className:l.subjectClass},l.subject)),e.message.messageId&&n.a.createElement("p",null,n.a.createElement("span",{className:a},"Message-ID:")," ",e.message.messageId),e.message.date&&n.a.createElement("p",null,n.a.createElement("span",{className:a},"Date:")," ",e.message.date)),n.a.createElement("div",{className:"pt-3 break-overflow"},e.message.html&&n.a.createElement("div",{className:"content",dangerouslySetInnerHTML:{__html:e.message.html}}),!e.message.html&&e.message.text&&n.a.createElement("pre",{className:"wrap-text"},e.message.text),!e.message.html&&!e.message.text&&n.a.createElement("p",{className:t},"(message is blank)")),e.message.errors&&e.message.errors.length>0&&n.a.createElement("div",{className:"pt-5"},e.message.errors.map((function(e,t){return n.a.createElement("div",{key:t,className:"message is-danger"},n.a.createElement("div",{className:"message-body"},e.name&&n.a.createElement("span",{className:a},"[",e.name,"] "),e.message))}))))}function se(){var e=Object(E.c)(K),a=Object(E.c)(P),t=Object(l.useMemo)((function(){return G(e)}),[e])(Object(l.useMemo)((function(){return I(a,0)}),[a]));return n.a.createElement(ce,{message:t})}function me(){return n.a.createElement("div",{className:"content"},n.a.createElement("h3",null,"Inserting variables"),n.a.createElement("p",null,"In your data, each value in the header row defines a variable name. The spam script generates one email for each subsequent row of data."),n.a.createElement("p",null,"Variables are stored in the ",n.a.createElement("code",null,"SPAM")," object, and substitutions are done using ",n.a.createElement("code",null,"${}")," syntax. You can insert a variable named ",n.a.createElement("code",null,"xyz")," into your email by writing"," ",n.a.createElement("code",null,"${SPAM.xyz}")," or by writing"," ",n.a.createElement("code",null,'${SPAM["xyz"]}'),". The latter syntax is necessary if your variable name contains special characters like spaces."),n.a.createElement("p",null,"The message that you write is evaulated as a Javascript"," ",n.a.createElement("a",{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals",target:"_blank",rel:"noopener noreferrer"},"template literal"),". You can include arbitrary Javascript code inside the"," ",n.a.createElement("code",null,"${}")," expressions."),n.a.createElement("p",null,"In addition, you can access non-named data entries by index via the special value of ",n.a.createElement("code",null,"SPAM.ARGV"),", an array that contains the entire data row. This can be used to generate things like variable-length tables inside your email."),n.a.createElement("h3",null,"Special characters"),n.a.createElement("ul",null,n.a.createElement("li",null,"To insert a literal backslash (",n.a.createElement("code",null,"\\"),"), write ",n.a.createElement("code",null,"\\\\"),"."),n.a.createElement("li",null,"To insert a literal backtick (",n.a.createElement("code",null,"`"),"), write ",n.a.createElement("code",null,"\\`"),"."),n.a.createElement("li",null,"To insert a literal ",n.a.createElement("code",null,"${"),", escape the dollar sign like this: ",n.a.createElement("code",null,"\\${}"),"."),n.a.createElement("li",null,"To insert a special Unicode code point, use"," ",n.a.createElement("code",null,"\\u{XXXXX}"),".")),n.a.createElement("h3",null,"Markdown"),n.a.createElement("p",null,"If you are using Markdown mode, you can apply formatting to your message with"," ",n.a.createElement("a",{href:"https://www.markdownguide.org/cheat-sheet/",target:"_blank",rel:"noopener noreferrer"},"Markdown syntax"),". The table below shows a few commonly used elements."),n.a.createElement("table",{className:"table is-bordered is-hoverable fixed-table"},n.a.createElement("thead",{className:"has-background-light"},n.a.createElement("tr",null,n.a.createElement("th",null,"Markdown"),n.a.createElement("th",null,"Result"))),n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("td",null,n.a.createElement("code",null,"# Heading 1")),n.a.createElement("td",{className:"title is-4 mx-0 my-0"},"Heading 1")),n.a.createElement("tr",null,n.a.createElement("td",null,n.a.createElement("code",null,"## Heading 2")),n.a.createElement("td",{className:"title is-5"},"Heading 2")),n.a.createElement("tr",null,n.a.createElement("td",null,n.a.createElement("code",null,"*Italic*")),n.a.createElement("td",null,n.a.createElement("em",null,"Italic"))),n.a.createElement("tr",null,n.a.createElement("td",null,n.a.createElement("code",null,"**Bold**")),n.a.createElement("td",{className:"has-text-weight-bold"},"Bold")),n.a.createElement("tr",null,n.a.createElement("td",null,n.a.createElement("code",null,"~~Strikethrough~~")),n.a.createElement("td",null,n.a.createElement("s",null,"Strikethrough"))),n.a.createElement("tr",null,n.a.createElement("td",null,n.a.createElement("code",null,"* List")),n.a.createElement("td",null,n.a.createElement("ul",{className:"mx-4 my-0"},n.a.createElement("li",null,"List")))),n.a.createElement("tr",null,n.a.createElement("td",null,n.a.createElement("code",null,"\\`Code\\`")),n.a.createElement("td",null,n.a.createElement("code",null,"Code"))),n.a.createElement("tr",null,n.a.createElement("td",null,n.a.createElement("code",null,"[Link](https://example.com)")),n.a.createElement("td",null,n.a.createElement("a",{href:"https://example.com",target:"_blank",rel:"noopener noreferrer"},"Link"))))),n.a.createElement("p",null,"Because template literal evaluation occurs before Markdown parsing, you'll need to escape backticks and other special characters that are part of your Markdown. For example, writing"," ",n.a.createElement("code",null,"\\`Code\\`")," will result in the Markdown expression"," ",n.a.createElement("code",null,"`Code`"),"."))}function ie(){return n.a.createElement("div",{className:"has-text-centered vertical-center"},n.a.createElement("div",{className:"pb-6"},n.a.createElement("div",{className:"huge-icon"},n.a.createElement("span",{role:"img","aria-label":"icon"},"\ud83d\udee0\ufe0f")),n.a.createElement("p",{className:"title has-text-grey-dark"},"Not yet implemented")))}!function(e){e[e.PREVIEW=0]="PREVIEW",e[e.HELP=1]="HELP",e[e.ATTACHMENTS=2]="ATTACHMENTS"}(ne||(ne={}));var oe,ue=ne.PREVIEW;function de(e){var a=Object(l.useState)(ue),t=Object(s.a)(a,2),r=t[0],c=t[1];return n.a.createElement(n.a.Fragment,null,n.a.createElement(ee,{title:"Write your message",nextPage:e.nextPage,prevPage:e.prevPage,showNext:!0,showPrev:!0}),n.a.createElement("div",{className:"fill-height"},n.a.createElement("div",{className:"container px-3 pb-3 fullheight-container"},n.a.createElement("div",{className:"columns is-desktop is-variable is-4 my-0 fullheight-container"},n.a.createElement("div",{className:"column"},n.a.createElement("div",{className:"fullheight-column"},n.a.createElement("div",{className:"scrollable"},n.a.createElement(q,null)))),n.a.createElement("div",{className:"column fullheight-container"},n.a.createElement("div",{className:"card fullheight-card"},n.a.createElement("nav",{className:"card-footer"},n.a.createElement("div",{className:"card-footer-item tabs is-fullwidth pt-1"},n.a.createElement("ul",null,n.a.createElement("li",{className:r===ne.PREVIEW?"is-active":""},n.a.createElement("a",{onClick:function(e){c(ne.PREVIEW),e.preventDefault()}},n.a.createElement("span",{className:"icon"},n.a.createElement(m.a,{icon:re.a,fixedWidth:!0})),"Preview")),n.a.createElement("li",{className:r===ne.HELP?"is-active":""},n.a.createElement("a",{onClick:function(e){c(ne.HELP),e.preventDefault()}},n.a.createElement("span",{className:"icon"},n.a.createElement(m.a,{icon:re.b,fixedWidth:!0})),"Help")),n.a.createElement("li",{className:r===ne.ATTACHMENTS?"is-active":""},n.a.createElement("a",{onClick:function(e){c(ne.ATTACHMENTS),e.preventDefault()}},n.a.createElement("span",{className:"icon"},n.a.createElement(m.a,{icon:Q.d,transform:"shrink-1",fixedWidth:!0})),"Attachments"))))),n.a.createElement("div",{className:"card-content pt-3 fill-height"},n.a.createElement("div",{className:"fullheight-column"},n.a.createElement("div",{className:"scrollable"},r===ne.PREVIEW&&n.a.createElement(se,null),r===ne.HELP&&n.a.createElement(me,null),r===ne.ATTACHMENTS&&n.a.createElement(ie,null))))))))))}function Ee(e){var a=Object(l.useState)(!1),t=Object(s.a)(a,2),r=t[0],c=t[1];return n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header"},n.a.createElement("div",{className:"card-header-title"},n.a.createElement("span",{className:"icon"},n.a.createElement(m.a,{icon:re.a,fixedWidth:!0})),"\xa0 To: ",e.message.to||"(empty)"),n.a.createElement("div",{className:"card-header-icon",onClick:function(){return c(!r)}},n.a.createElement("span",{className:"icon"},n.a.createElement(m.a,{icon:Q.a,fixedWidth:!0})))),r&&n.a.createElement("div",{className:"card-content"},n.a.createElement(ce,{message:e.message})))}function pe(e){var a=Object(l.useState)(!0),t=Object(s.a)(a,2),r=t[0],c=(t[1],Object(E.c)(K)),m=Object(E.c)(P),i=Object(l.useMemo)((function(){return G(c)}),[c]),o=Object(l.useMemo)((function(){return function(e){return e.rows.map((function(a,t){return I(e,t)}))}(m)}),[m]),u=Object(l.useState)([]),d=Object(s.a)(u,2),p=d[0],h=d[1];return Object(l.useEffect)((function(){return h(o.map(i))}),[i,o]),n.a.createElement(n.a.Fragment,null,0===p.length&&n.a.createElement("div",{className:"hero is-fullheight"},n.a.createElement("div",{className:"hero-header"},n.a.createElement(ee,{title:"Send your spam",prevPage:e.prevPage,showNext:!1,showPrev:r})),n.a.createElement("div",{className:"hero-body"},n.a.createElement("div",{className:"container has-text-centered pb-6"},n.a.createElement("div",{className:"huge-icon"},n.a.createElement("span",{role:"img","aria-label":"icon"},"\ud83d\udced")),n.a.createElement("p",{className:"title has-text-grey-dark"},"No messages to send!")))),p.length>0&&n.a.createElement("div",null,n.a.createElement(ee,{title:"Send your spam",prevPage:e.prevPage,showNext:!1,showPrev:r}),n.a.createElement("div",null,n.a.createElement("div",{className:"container px-3"},n.a.createElement("div",{className:"has-text-centered pb-5"},n.a.createElement("h1",{className:"subtitle"},"Message sending is not yet implemented, but you can preview your emails here.")),p.map((function(e,a){return n.a.createElement(Ee,{key:a,message:e})}))))))}!function(e){e[e.MAIN_PAGE=0]="MAIN_PAGE",e[e.DATA_PAGE=1]="DATA_PAGE",e[e.MESSAGE_PAGE=2]="MESSAGE_PAGE",e[e.SEND_PAGE=3]="SEND_PAGE"}(oe||(oe={}));var he=oe.MAIN_PAGE;function ve(){var e=Object(l.useState)(he),a=Object(s.a)(e,2),t=a[0],r=a[1],c=Object(l.useState)(!1),m=Object(s.a)(c,2),i=m[0],o=m[1],d=function(){i||(window.addEventListener("beforeunload",(function(e){e.preventDefault(),e.returnValue=""})),o(!0)),r(oe.DATA_PAGE)};switch(t){case oe.MAIN_PAGE:return n.a.createElement(u,{nextPage:d});case oe.DATA_PAGE:return n.a.createElement(te,{prevPage:function(){return r(oe.MAIN_PAGE)},nextPage:function(){return r(oe.MESSAGE_PAGE)}});case oe.MESSAGE_PAGE:return n.a.createElement(de,{prevPage:function(){return r(oe.DATA_PAGE)},nextPage:function(){return r(oe.SEND_PAGE)}});case oe.SEND_PAGE:return n.a.createElement(pe,{prevPage:function(){return r(oe.MESSAGE_PAGE)}});default:return n.a.createElement(u,{nextPage:d})}}var fe=Object(p.a)({reducer:{data:y,template:X}});c.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(E.a,{store:fe},n.a.createElement(ve,null))),document.getElementById("root"))},63:function(e,a,t){e.exports=t(170)},68:function(e,a,t){}},[[63,1,2]]]);
//# sourceMappingURL=main.1a838c0c.chunk.js.map